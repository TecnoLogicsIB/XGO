# funció per saber les adreces I2C dels dispositius connectats. 
# definició i execució des de test.py
def escanejar_i2c():
    display.show('I')   # I d'I2C
    addrs = i2c.scan()  # llista d'adreces (DECIMAL)

    if not addrs:
        display.show(Image.SAD)
        sleep(800)
        display.clear()
        return

    # Mostrem la 1a adreça trobada (si n'hi ha més, les fem desfilar)
    # Convertim a HEX per pantalla sèrie / debug
    # A la pantalla del micro:bit fem scroll de "0x32" etc.
    for a in addrs:
        s = "0x{:02X}".format(a)
        display.scroll(s, delay=70)
        sleep(200)

    # Feedback final
    display.show(Image.HAPPY)
    sleep(500)
    display.clear()
